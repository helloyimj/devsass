
<div class="header_inner">
<div class="nav_dim"></div>
<div class="wrap_gnb">
<div class="area_top">
<div class="area_top_inner">
<div class="top_line_bnr">
<div class="top_link_wrap top_link_wrap_inner">
<div class="top_inner">
<div class="top_flag_wrap"><p class="top_flag_in">이 누리집은 대한민국 공식 전자정부 누리집입니다.</p></div>
</div>
</div>
</div>
<ul class="box_btns">
<li><a href="javascript:;" target="_self" class="user_anchor" title="로그인 페이지로 이동">로그인</a></li>
<li><a href="javascript:;" target="_self" class="user_anchor" title="회원가입 페이지로 이동">회원가입</a></li>
<li><a href="누리집 이용 안내_누리집안내지도.html" target="_self" class="user_anchor" title="누리집안내지도 페이지로 이동">누리집안내지도</a></li>
<li class="box_btn_zoom"><span>화면크기</span>
<button onclick="javascript:zoomControl.zoomIn()" class="btn_zoom in" aria-label="화면 확대"></button>
<button onclick="javascript:zoomControl.zoomOut()" class="btn_zoom out" aria-label="화면 축소"></button>
<button onclick="javascript:zoomControl.zoomReset()" class="btn_zoom reset" aria-label="화면크기 초기화"></button>
</li>
</ul>
</div>
</div>
<div class="area_menu">
<div class="area_menu_inner">
<div class="wrap_logo">
<div class="logo"><a class="logo_anchor" aria-label="메인페이지 이동" href="main.html"></a></div>
</div>
<div class="wrap_menus">
<div class="area_state">
<button type="button" class="btn_close_menu" aria-label="메뉴 닫기"></button>
<div class="user_info">
<div class="logo_lnb"><img src="../img/logo/logo_saas.png" alt="민간 SaaS 연계공통기반 통합관리포털 플랫폼 로고" /></div>
<div class="box_state state_login_before">
<!-- 로그인 전 -->
<div class="user_info">
<p class="user_greet">김길동님 안녕하세요</p>
<div class="mob_login_btn_wrap">
<a class="white" href="javascript:;">회원가입</a>
<a class="navy" href="javascript:;">로그인</a>
</div>
</div>
<!-- 로그인 전 end -->
</div>
</div>
</div>
<nav id="gnb" class="wrap_group menu_text">
<div class="lnb_drop_menu">
<h2 class="sr_only">주메뉴</h2>
<ul class="lnb_list">
<li class="depth01">
<div class="depth01_item"><a href="javascript:;" class="depth01_item_anchor" target="_self">소개</a></div>
<div class="depth02_content">
<div class="depth02_inner">
<ul class="depth02">
<li class="depth02_item"><a href="소개_민간SaaS연계공통기반이란.html" class="depth02_item_anchor" target="_self">민간 SaaS 연계공통기반이란?</a></li>
<li class="depth02_item"><a href="소개_연계한 민간 SaaS.html" class="depth02_item_anchor" target="_self">연계한 민간 SaaS</a></li>
<li class="depth02_item"><a href="소개_통합관리포털소개.html" class="depth02_item_anchor" target="_self">통합관리포털 소개</a></li>
<li class="depth02_item"><a href="소개_이용절차.html" class="depth02_item_anchor" target="_self">연계 서비스 이용 절차</a></li>
<li class="depth02_item"><a href="소개_이용신청.html" class="depth02_item_anchor" target="_self">연계 서비스 이용 신청</a></li>
</ul>
</div>
</div>
</li>
<li class="depth01">
<div class="depth01_item"><a href="javascript:;" class="depth01_item_anchor" target="_self">전자정부 연계 SaaS</a></div>
<div class="depth02_content">
<div class="depth02_inner">
<ul class="depth02">
<li class="depth02_item"><a href="전자정부 연계 SaaS_모바일 공무원증.html" class="depth02_item_anchor" target="_self">모바일공무원증</a></li>
<li class="depth02_item"><a href="전자정부 연계 SaaS_정부디렉터리LDAP.html" class="depth02_item_anchor" target="_self">정부디렉터리 (LDAP)</a></li>
<li class="depth02_item"><a href="전자정부 연계 SaaS_행정표준코드.html" class="depth02_item_anchor" target="_self">행정표준코드</a></li>
<li class="depth02_item"><a href="전자정부 연계 SaaS_행정전자서명(GPKI).html" class="depth02_item_anchor" target="_self">행정전자서명(GPKI)</a></li>
</ul>
</div>
</div>
</li>
<li class="depth01">
<div class="depth01_item"><a href="javascript:;" class="depth01_item_anchor" target="_self">공공용 민간 SaaS</a></div>
<div class="depth02_content">
<div class="depth02_inner">
<ul class="depth02">
<li class="depth02_item"><a href="공공용 민간 SaaS.html" class="depth02_item_anchor" target="_self">공공용 민간 SaaS</a></li>
</ul>
</div>
</div>
</li>
<li class="depth01">
<div class="depth01_item"><a href="javascript:;" class="depth01_item_anchor" target="_self">사용자 지원</a></div>
<div class="depth02_content">
<div class="depth02_inner">
<ul class="depth02">
<li class="depth02_item"><a href="사용자 지원_공지사항.html" class="depth02_item_anchor" target="_self">공지사항</a></li>
<li class="depth02_item"><a href="사용자 지원_자주 묻는 질문.html" class="depth02_item_anchor" target="_self">자주묻는 질문</a></li>
<li class="depth02_item"><a href="사용자 지원_자료실.html" class="depth02_item_anchor" target="_self">자료실</a></li>
<li class="depth02_item"><a href="사용자 지원_기술지원.html" class="depth02_item_anchor" target="_self">기술지원</a></li>
</ul>
</div>
</div>
</li>
</ul>
</div>
</nav>
</div>
<div class="box_btn_util">
<div class="box_btn_item">
<button type="button" id="btn_util_search" class="btn_util_search" aria-label="홈페이지 내 검색 열기"></button>
</div>
<div class="box_btn_item"><a class="btn_util_ham" aria-label="메뉴 열기"></a></div>
</div>
<div class="wrap_search">
<form name="" id="" method="" action="" class="search_form">
<fieldset class="search_fieldset">
<legend>통합검색</legend>
<p>검색어를 입력해 주세요.</p>
<input type="search" name="" id="" class="search_input" title="검색어입력창" placeholder="검색어를 입력해보세요.">
<!-- <button type="button" class="search_submit" aria-label="홈페이지 내 검색" onclick="location.href=\'통합검색.html\'"></button> -->
</fieldset>
</form>
</div>
<!-- 모바일 검색 영역 -->
<div class="mob_wrap_search">
<div class="search_top">
<h1>민간 SaaS 연계공통기반 통합관리포털</h1>
<button type="button">닫기</button>
</div>
<strong class="mob_wrap_srch_ttl">통합검색</strong>
<fieldset>
<label for="srchIn">검색어를 입력해 주세요.</label>
<p class="mob_wrap_srch_input">
<input id="srchIn" name="" type="text" />
<button type="button"></button>
</p>
</fieldset>
</div>
<!-- 모바일 검색 영역 end -->
</div>
</div>
</div>
</div>


let footer = "";
footer +=      '<div class="area_sites">';
footer +=      '<div class="inner">';
footer +=          '<div class="wrap_select_family">';
footer +=              '<a href="javascript:;" class="rel_link_sel" title="관련기관 목록 열기">관련기관</a>';
footer +=              '<ul>';
footer +=                  '<li><a href="https://www.gov.kr/portal/main/nologin" target="_blank" title="새 창 열림- 정부24">정부24</a></li>';
footer +=                  '<li><a href="https://www.ips.go.kr/pot/forwardMain.do" target="_blank" title="새 창 열림- 국민비서">국민비서</a></li>';
footer +=                  '<li><a href="https://www.nia.or.kr/site/nia_kor/main.do" target="_blank" title="새 창 열림- 한국지능정보사회진흥원">한국지능정보사회진흥원</a></li>';
footer +=                  '<li><a href="https://www.dpg.go.kr/DPG/main/index.do" target="_blank" title="새 창 열림- 디지털플랫폼정부위원회">디지털플랫폼정부위원회</a></li>';
footer +=                  '<li><a href="https://www.mois.go.kr/frt/a01/frtMain.do" target="_blank" title="새 창 열림- 행정안전부">행정안전부</a></li>';
footer +=              '</ul>';
footer +=          '</div>';
footer +=      '</div>';
footer +=      '</div>';
footer +=      '<div class="area_info">';
footer +=      '<div class="inner">';
footer +=          '<div class="wrap_logo">';
footer +=              '<img src="../img/logo/Ministry_of_the_Interior_and_Safety_of_the_Republic_of_Korea_Logo_(horizontal).png" alt="행정안전부">';
footer +=              '<img src="../img/logo/logo_nia_wt.svg" alt="한국지능정보사회진흥원">';
footer +=          '</div>';
footer +=          '<div class="wrap_address">';
footer +=              '<ul class="list_address">';
footer +=                  '<li class="list_address_item">(30112) 세종특별자치시 도움6로 42</li>';
footer +=                  '<li class="list_address_item">문의 070-7893-5158 (월~금 09:00~17:00 / 토,일 공휴일 휴무)</li>';
footer +=              '</ul>';
footer +=          '</div>';
footer +=      '</div>';
footer +=      '</div>';
footer +=      '<div class="area_links">';
footer +=      '<div class="inner">';
footer +=          '<div class="wrap_links">';
footer +=              '<a href="누리집 이용 안내_포털이용약관.html" class="rel_link" target="_self" title="포털 이용약관 페이지로 이동">포털 이용약관</a>';
footer +=              '<a href="누리집 이용 안내_개인정보처리방침.html" class="rel_link color_blue_light" target="_self" title="개인정보처리방침 페이지로 이동">개인정보처리방침</a>';
footer +=              '<a href="javascript:;" class="rel_link" target="_self" title="웹 접근성 품질인증 마크 획득 페이지로 이동">웹 접근성 품질인증 마크 획득</a>';
footer +=          '</div>';
footer +=          '<div class="wrap_copyright">';
footer +=              '<p>Copyright@ 한국지능정보사회진흥원 All Rights Reserved.</p>';
footer +=          '</div>';
footer +=      '</div>';
footer +=      '</div>';

// <!--
// <div class="area_other_logo only_pc">
//     <img src="../img/logo/logo_nia.png" alt="한국지능정보사회진흥원 로고">
//     <a href="http://www.webwatch.or.kr/Situation/WA_Situation.html?MenuCD=110" title="국가 공인 인증기관 : 웹와치" target="_blank">
//         <img src="../img/logo/logo_wa.svg" style="border: 0;" alt="과학기술정보통신부 WEB ACCESSIBILITY 마크(웹 접근성 품질인증 마크)" />
//     </a>
// </div> -->

// <!-- <div class="area_other_logo only_mob">header
//     <img src="../img/logo/logo_nia.png" alt="한국지능정보사회진흥원 로고">
//     <a href="http://www.webwatch.or.kr/Situation/WA_Situation.html?MenuCD=110" title="국가 공인 인증기관 : 웹와치" target="_blank">
//         <img src="../img/logo/logo_wa.svg" style="border: 0;" alt="과학기술정보통신부 WEB ACCESSIBILITY 마크(웹 접근성 품질인증 마크)" />
//     </a>
// </div> -->

let sideBtn = "";
sideBtn += "<!-- 최상단 이동 -->";
sideBtn += '<div class="wrap_side_btn" id="quick">';
sideBtn += '<a href="사용자 지원_기술지원.html" aria-label="기술지원 바로가기" class="btn_side_sup btn_side_sup01"><p>기술지원</p></a>';
sideBtn += '<a href="javascript:;" aria-label="챗봇 문의, 검색 바로가기" class="btn_side_sup btn_side_sup02"><p>챗봇 문의 · 검색</p></a>';
sideBtn += '<a href="#wrapper" aria-label="최상단으로 이동" class="btn_side_sup btn_side_sup03 btn_top"><span class="sr_only">최상단으로 이동</span></a>';
sideBtn += "</div>";


let skip = "";
skip += '<nav id="skip" class="skip">';
skip += '<a href="#content" class="skip_anchor" target="_self" title="페이지 내 이동">본문 바로가기</a>';
skip +=  '<a href="#gnb" class="skip_anchor" target="_self" title="페이지 내 이동">주메뉴 바로가기</a>'
skip +=  '<a href="#quick" class="skip_anchor" target="_self" title="페이지 내 이동">퀵메뉴 바로가기</a>'
skip += "</nav>";

$(document).ready(function () {
  $("header.header").html(header);
  $("footer.footer").html(footer);
  $("footer.footer").after(sideBtn);

  $(".footer .wrap_select_family").on("click", function () {
    $(".footer .wrap_select_family ul").slideToggle(200);
    $(".footer .wrap_select_family").toggleClass("toggle");
    if ($(this).hasClass("toggle") === true) {
      $(this).children(".rel_link_sel").attr("title", "관련기관 누리집 목록 열림");
    } else {
      $(this).children(".rel_link_sel").attr("title", "관련기관 누리집 목록 닫힘");
    }
  });

  // 접근성 관련
  // 접근성 - 스킵 메뉴
  $(".wrapper").prepend(skip);
  $(".skip .skip_anchor").on("focus", function () {
    $(this).parent(".skip").addClass("on");
    $(this).parent(".skip").stop().css({
      top: 0
    });
  });
  $(".skip .skip_anchor").on("click", function () {
    $(this).parent(".skip").removeClass("on");
    $(this).parent(".skip").stop().animate({
      top: "-40px"
    });
  });
  $(".skip .skip_anchor").on("focusout", function () {
    $(this).parent(".skip").removeClass("on");
    $(this).parent(".skip").stop().animate({
      top: "-40px"
    });
  });

  // focus events
  // 디바이스 사이즈 체크
  let w1024 = window.matchMedia("(max-width: 1024px)");
  if (w1024.matches) {
    $(".header").removeClass("gnb_pc");
    $(".header").addClass("gnb_mo");
  } else {
    $(".header").removeClass("gnb_mo");
    $(".header").addClass("gnb_pc");
  }
});

// area_top 화면크기 조절
let nowZoom = 100;
let zoomControl = {
  zoomOut: function () {
    nowZoom = nowZoom - 5;
    if (nowZoom <= 90) nowZoom = 90;
    zoomControl.zooms();
    // $(".box_btn_zoom .btn_zoom").text(nowZoom + '%")
  },
  zoomIn: function () {
    nowZoom = nowZoom + 5;
    if (nowZoom >= 120) nowZoom = 120;
    zoomControl.zooms();
    // $(".box_btn_zoom .btn_zoom").text(nowZoom + '%")
  },
  zoomReset: function () {
    nowZoom = 100;
    zoomControl.zooms();
    // $(".box_btn_zoom .btn_zoom").text(nowZoom + '%")
  },
  zooms: function () {
    let aUserAgent = navigator.userAgent.toLowerCase();

    if (aUserAgent.indexOf("firefox") >= 0) {
      $("body").css("-moz-transform", "scale(" + nowZoom + "%)");
      $("body").css("-moz-transform-origin", "0 0");
    } else {
      document.body.style.zoom = nowZoom + "%";
    }
    if (nowZoom == 90) {
      // 최소 배율 설정
      alert("더 이상 축소할 수 없습니다.");
    }
    if (nowZoom == 120) {
      // 최대 배율 설정
      alert("더 이상 확대할 수 없습니다.");
    }
  }
};
//////////////////////////////////////////////////////////////
// //header gnb_wide

$(document).ready(function () {

  $(document).on("click", ".header .lnb_list .depth01", function (e) {
    e.stopPropagation();
    if ($(this).hasClass("on")) {
      $(this).removeClass("on");
      $(this).find(".depth02_content").stop().slideUp(200);
      setTimeout(function () {
        $(this).find(".depth02").css({
          display: "none"
        });
      }, 100);
    } else {
      $(".header .lnb_list .depth01").removeClass("on");
      $(this).addClass("on");
      $(this).find(".depth02").css({
        display: "flex"
      });
      $(".header .lnb_list .depth02_content").stop().slideUp(200);
      $(this).find(".depth02_content").stop().slideDown(200);
    }
  });

});

// // nav_dim 클릭 시 메뉴 닫기
$(document).on("click", ".header .nav_dim", function (e) {
  e.stopPropagation();
  $("html").removeClass("open_lnb open_srch");
  $(".gnb_pc .lnb_list").removeClass("on");
  $(".header.gnb_mo").removeClass("on");
  $(".gnb_pc .menu_text .depth02").stop().slideUp(200);
  $(".header.gnb_mo .btn_util_ham").removeClass("on");
  $(".header .menu_search, .mob_wrap_search").removeClass("on");
});

//////////////////////////////////////////////////////////////
// 모바일 헤더 gnb_mob - 1025px 미만

// 터치디바이스 - wrap_menus 외 영역 터치 시 메뉴 닫기

$("html").on("touchend", function (e) {
  if (!$(e.target).is(".header.gnb_mo .wrap_menus") && $(e.target).is(".nav_dim")) {
    e.stopPropagation();
    $("html").removeClass("open_lnb open_srch");
    $(".header.gnb_mo .btn_util_ham").removeClass("on");
    $(".header .menu_search, .mob_wrap_search").removeClass("on");
    $(".header.gnb_mo").removeClass("on");
    $(".header.gnb_mo").removeClass("open_search");
  }
});

// 햄버거 메뉴 열기 버튼 클릭 시
$(document).on("click", ".gnb_mo .btn_util_ham", function () {
  $(this).toggleClass("on");

  if ($(this).hasClass("on") === true) {
    $("html").addClass("open_lnb");
    $(".header.gnb_mo").addClass("on");
  } else {
    $("html").removeClass("open_lnb");
    $(".header.gnb_mo").removeClass("on");
  }
});

// 햄버거 메뉴 닫기 버튼 클릭 시
$(document).on("click", ".header.gnb_mo .btn_close_menu", function () {
  $(".header.gnb_mo").removeClass("on");
  $(".header.gnb_mo .btn_util_ham").removeClass("on");
  $(".gnb_mo .depth02").stop().slideUp(200);
  $(".depth01").removeClass("on");

  if ($(".menu_search").hasClass("on") === true) {
  } else {
    $("html").removeClass("open_lnb");
  }
});

/*
// 모바일에서 뎁스 1 클릭 시 링크 이동 금지
$(document).ready(function() {
    // .header의 클래스에 따라 이벤트 리스너를 바인딩합니다.
    if ($('.header').hasClass('gnb_mo')) {
        // gnb_mo 클래스가 있는 경우에만 이벤트 리스너를 바인딩합니다.
        $('.header.gnb_mo .depth01_item_anchor').on('click', function(event) {
            event.preventDefault(); // 링크 이동 기본 동작 막기
            // 이벤트 핸들러 내용 추가
        });
    }
}); 

$(document).ready(function() {
    var isGnbOpen = $(".header.gnb_mo").hasClass("on"); // 페이지 로드 시 GNB가 열려있는지 여부를 확인하여 isGnbOpen 변수 설정
    var isDepth02Open = false; // .depth02가 열려있는지 여부를 추적하는 변수

    $(".header.gnb_mo .btn_util_ham").click(function () {
        // 버튼 클릭 시 GNB가 열렸다면 isGnbOpen 변수 값을 true로 설정
        isGnbOpen = true;

        if ($(this).hasClass("on")) {
            // GNB 열기 로직
            $("html").addClass("open_lnb");
            $(".header.gnb_mo").addClass("on");
            // .depth02가 열려있는 상태 초기화
            isDepth02Open = false;
        } else {
            // GNB 닫기 로직
            $("html").removeClass("open_lnb");
            $(".header.gnb_mo").removeClass("on");
        }
    });

    // GNB 뎁스 1 클릭 시 뎁스 2 열림
    $(".header.gnb_mo .depth01").click(function (event) {
        $(this).toggleClass("on");

        if ($(this).hasClass("on")) {
            // GNB가 열린 경우
            isGnbOpen = true;
            // 다른 요소들의 ".depth02_wrap"을 숨김
            $(".header.gnb_mo .depth01").not(this).removeClass("on");
            $(".header.gnb_mo .depth02").stop().slideUp(200); // 다른 서브메뉴 닫기
            $(this).children(".header.gnb_mo .depth02").stop().slideDown(200);
            // .depth02가 열려있다는 상태 업데이트
            isDepth02Open = true;
        } else {
            // GNB가 닫힌 경우
            isGnbOpen = false;
            // 모든 요소들의 "on" 클래스를 제거하고 서브메뉴를 닫음
            $(".header.gnb_mo .depth01").removeClass("on");
            $(".header.gnb_mo .depth02").stop().slideUp(200);
            // .depth02가 닫혔다는 상태 업데이트
            isDepth02Open = false;
        }
    });


    // 윈도우 리사이즈 이벤트 핸들러
    $(window).resize(function() {
        var windowWidth = $(window).width();    

        if (windowWidth < 1100 && isGnbOpen && isDepth02Open) {
            // 브라우저 창의 너비가 1100px 미만이고 GNB가 열려있고, 이전에 열었던 .depth02가 열려있는 경우
            // .depth02를 닫음
            $(".header.gnb_mo .depth02").stop().slideUp(200);
            // .depth02가 닫혔다는 상태 업데이트
            isDepth02Open = false;

            // GNB 메뉴 초기화
            $(".wrap_gnb.gnb_mo").hide();
            $("html").removeClass("open_lnb");
            $(".header.gnb_mo").removeClass("on");
            $(".header.gnb_mo .depth01").removeClass("on");
        } else if (windowWidth < 1100 && isGnbOpen && !isDepth02Open) {
            // 브라우저 창의 너비가 1100px 미만이고 GNB가 열려있지만 .depth02가 열려있지 않은 경우
            // GNB 메뉴만 초기화
            $(".wrap_gnb.gnb_mo").hide();
            $("html").removeClass("open_lnb");
            $(".header.gnb_mo").removeClass("on");
        }
    });
    */

$(document).ready(function () {
  $(".header .box_btn_util .box_btn_item .btn_util_search").on("click", function () {
    $(".mob_wrap_search").addClass("on");
    $("html").addClass("open_srch");
  });
  $(".mob_wrap_search .search_top button").on("click", function () {
    $(".mob_wrap_search").removeClass("on");
    $("html").removeClass("open_srch");
  });

  /* 반응형 */
  const myWinW = $(window).width();
  if (myWinW >= 1025) {
    $("html").removeClass("open_lnb open_srch");
    $(".mob_wrap_search").removeClass("on");
    $(".header").removeClass("gnb_mo");
    $(".header").addClass("gnb_pc");
  } else {
    $(".header").addClass("gnb_mo");
    $(".header").removeClass("gnb_pc");
  }

  $(window).on("resize", function () {
    const myWinW = $(window).width();
    if (myWinW >= 1025) {
      $("html").removeClass("open_lnb open_srch");
      $(".mob_wrap_search").removeClass("on");
      $(".header").removeClass("gnb_mo");
      $(".header").addClass("gnb_pc");
    } else {
      $(".header").addClass("gnb_mo");
      $(".header").removeClass("gnb_pc");
    }
  });
  /* 반응형 end */
});
